// components/SecureLinkCard.jsx
import React from 'react';

const SecureLinkCard = ({ name, url, icon, isLoggedIn }) => {
  const handleClick = (e) => {
    if (!isLoggedIn) {
      e.preventDefault();

      // Store the target URL so we can use it post-login
      sessionStorage.setItem('targetURL', url);

      // Redirect to login
      window.location.href = "/login";
    }
  };

  return (
    <a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      onClick={handleClick}
      className="card-link"
    >
      <img src={icon} alt={`${name} icon`} />
      <span>{name}</span>
    </a>
  );
};

export default SecureLinkCard;
